## 기술면접

- 프로세스와 쓰레드의 차이
- 교착상태(DeadLock)가 무엇이며, 4가지 조건은?
- 사용자 수준 스레드 vs 커널 수준 스레드 차이는?
- Context Switching이란?

</br>

### 답안

- 프로세스와 쓰레드의 차이   

  > 프로세스는 메모리 상에서 실행중인 프로그램을 말하며, 쓰레드는 이 프로세스 안에서 실행되는 흐름 단위를 말한다.    
  > 프로세스마다 최소 하나의 쓰레드를 보유하고 있으며, 각각 별도의 주소공간을 독립적으로 할당받는다. (code, data, heap, stack)    
  > 스레드는 이중에 stack만 따로 할당받고 나머지 영역은 스레드끼리 서로 공유한다.  
  > 요약  
  > 프로세스 : 자신만의 고유 공간과 자원을 할당받아 사용  
  > 쓰레드 : 다른 스레드와 공간과 자원을 공유하면서 사용  

- 교착상태(DeadLock)가 무엇이며, 4가지 조건은?  

  > 프로세스가 자원을 얻지 못해 다음 처리를 하지 못하는 상태를 말한다.    
  > 시스템적으로 한정된 자원을 여러 곳에서 사용하려고 할 때 발생하는 문제이다.   
  > 교착상태의 4가지 조건은 아래와 같다.   
  >  1. 상호배제 : 프로세스들이 필요로 하는 자원에 대해 배타적 통제권을 요구함   
  >  2. 점유대기 : 프로세스가 할당된 자원을 가진 상태에서 다른 자원 기다림   
  >  3. 비선점 : 프로세스가 어떤 자원의 사용을 끝날 때까지 그 자원을 뺏을 수 없음   
  >  4. 순환대기 : 각 프로세스가 순환적으로 다음 프로세스가 요구하는 자원을 갖고 있음   

  > 이 4가지 조건 중 하나라도 만족하지 않으면 교착상태는 발생하지 않는다.   
  > (순환대기는 점유대기와 비선점을 모두 만족해야만 성립한다. 따라서 4가지가 서로 독립적이진 않다.)   

- 사용자 수준 쓰레드 vs 커널 수준 쓰레드 차이는?  

  > 사용자 수준 쓰레드  
  > 
  > 장점 : context switching이 없어서 커널 쓰레드보다 오버헤드가 적다. (쓰레드 전환 시 커널 스케줄러 호출할 필요가 없기 때문)  
  > 단점 : 프로세스 내의 한 쓰레드가 커널로 진입하는 순간, 나머지 쓰레드들도 전부 정지된다. (커널이 쓰레드의 존재를 알지 못하기 때문)  

  > 커널 수준 쓰레드  
  > 
  > 장점 : 사용자 수준 스레드보다 효율적이다. 커널 스레드를 쓰면 멀티프로세서를 활용할 수 있기 때문이다. 사용자 쓰레드는 CPU가 아무리 많아도 커널 모드의 스케줄이 되지 않으므로, 각 CPU에 효율적으로 쓰레드 배당할 수가 없다.  
  > 단점 : context switching이 발생한다. 이 과정에서 프로세서 모드가 사용자 모드와 커널 모드 사이를 움직이기 때문에 많이 돌아다닐 수록 성능이 떨어지게 된다.  

- Context Switching이란?  

  > 하나의 프로세스가 CPU를 사용 중인 상태에서 다른 프로세스가 CPU를 사용하도록 하기 위해, 이전의 프로세스 상태를 보관하고 새로운 프로세스의 상태를 적재하는 작업.  
  > 한 프로세스의 문맥은 그 프로세스의 PCB에 기록된다.  

